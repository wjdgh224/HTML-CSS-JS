<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>캔버스에 파이 차트 그리기</title>
</head>
<body id="body">
<h3>학점 별로 학생 수를 입력하면 파이 차트로 비율 그리기</h3>
<hr>
A <input type="number" value="0">명 B <input type="number" value="0">명 C <input type="number" value="0">명 
D <input type="number" value="0">명 F <input type="number" value="0">명 
<button id="button" onclick="show()">차트그리기</button>
<canvas id="myCanvas" style="background-color:aliceblue" width="800" height="600"></canvas>

<script>
var canvas, context;
function show() {
	canvas = document.getElementById("myCanvas");
	context = canvas.getContext("2d");
	var input = document.getElementsByTagName("input");
	var colors = ["blue", "green", "yellow", "magenta", "red"];
	var grades = ["A", "B", "C", "D", "F"];
	context.fillStyle = "blue";
	
	var angle = 0;
	var sum = 0;
	for(var i=0; i<5; i++) {
		context.font = "20px arial";
		context.fillText(grades[i] + " 학점" + input[i].value + "% : " + colors[i], 10, 30 + i*25);
		sum += parseInt(input[i].value);
	} 
	for(var i=0; i<5; i++) {
		context.beginPath();
		context.moveTo(400,300);
		context.arc(400, 300, 200, angle, angle + 2*Math.PI*input[i].value/sum);
		context.closePath();
		context.fillStyle = colors[i];
		context.fill();
		angle += 2*Math.PI*input[i].value/sum;
	}
	
}
</script>
</body>
</html>